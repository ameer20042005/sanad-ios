# ๐ ุฏููู ูุธุงู ุงูุฅุดุนุงุฑุงุช ูู ุชุทุจูู ุณูุฏ (iOS)

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุชุทุจูู ูุธุงู ุฅุดุนุงุฑุงุช ูุญููุฉ ููุฑูุฉ ูุนูู ุจุชูููุฉ **Real-time** ูุฅุดุนุงุฑ ุงููุณุชุฎุฏููู ููุฑ ูุฑูุฏ ุทูุจ ุชุจุฑุน ุฏู ุฌุฏูุฏ.

> [!IMPORTANT]
> ูุฐุง ุงูุฏููู ูุฎุตุต ูุฃุฌูุฒุฉ iOS ููุท (iPhone ู iPad)

> **ููุงุญุธุฉ**: ุงููุธุงู ูุณุชุฎุฏู **Local Notifications** ููุท ููุชูุงูู ูุน Expo Go. 
> ููุญุตูู ุนูู Push Notifications ุงููุงููุฉุ ูุฌุจ ุงุณุชุฎุฏุงู Development Build ุฃู Production Build.

---

## โจ ุงููููุฒุงุช ุงููุทุจูุฉ

### 1. **ุฅุดุนุงุฑุงุช ูุญููุฉ ููุฑูุฉ (Local Notifications)**
- โ ุฅุดุนุงุฑ ููุฑู ุนูุฏ ุฅูุดุงุก ุทูุจ ุชุจุฑุน ุฌุฏูุฏ
- โ ูุธูุฑ ูู ุดุฑูุท ุงูุฅุดุนุงุฑุงุช ูุน ุตูุช ูุฅูุชุฒุงุฒ
- โ ูุญุชูู ุนูู: ุงุณู ุงููุชุจุฑุนุ ูุตููุฉ ุงูุฏูุ ุงููููุนุ ุฑูู ุงููุงุชู

### 2. **Real-time Updates (Supabase)**
- โ ูุฑุงูุจุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุญุธูุงู
- โ ุนูุฏ ุฅุถุงูุฉ ุทูุจ ุฌุฏูุฏุ ูุชู:
  - ุชุญุฏูุซ ุงููุงุฆูุฉ ุชููุงุฆูุงู ุจุฏูู refresh
  - ุฅุฑุณุงู ุฅุดุนุงุฑ ูุฌููุน ุงููุณุชุฎุฏููู ุงููุชุตููู

### 3. **ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช**
- โ ุทูุจ ุตูุงุญูุงุช ุงูุฅุดุนุงุฑุงุช ุชููุงุฆูุงู ุนูุฏ ูุชุญ ุงูุชุทุจูู
- โ ุฏุนู iOS ูุน Background Modes
- โ ุฏุนู ุงูุฅุดุนุงุฑุงุช ูู ุงูุฎูููุฉ ูุงูููุฏูุฉ

---

## ๐ ุงููููุงุช ุงููุนุฏููุฉ

### ูููุงุช ุฌุฏูุฏุฉ:
1. **`lib/notificationService.ts`** - ุฎุฏูุฉ ุฅุฏุงุฑุฉ ุงูุฅุดุนุงุฑุงุช ุงูุดุงููุฉ

### ูููุงุช ูุนุฏููุฉ:
1. **`app/blood-donation-form.tsx`** - ุฅุฑุณุงู ุฅุดุนุงุฑ ุนูุฏ ุฅูุดุงุก ุทูุจ
2. **`app/(tabs)/blood-donation.tsx`** - ุงุณุชูุจุงู ุงูุทูุจุงุช ุงูุฌุฏูุฏุฉ real-time
3. **`app/_layout.tsx`** - ุชุณุฌูู ุงูุฅุดุนุงุฑุงุช ุนูุฏ ุจุฏุก ุงูุชุทุจูู
4. **`app.json`** - ุฅุถุงูุฉ ุฅุนุฏุงุฏุงุช ูุตูุงุญูุงุช ุงูุฅุดุนุงุฑุงุช

---

## ๐ฏ ููููุฉ ุนูู ุงููุธุงู

### ุนูุฏ ุฅูุดุงุก ุทูุจ ุชุจุฑุน:
```
1. ุงููุณุชุฎุฏู ูููุฃ ูููุฐุฌ ุทูุจ ุงูุชุจุฑุน
2. ูุชู ุญูุธ ุงูุทูุจ ูู Supabase
3. ูุชู ุฅุฑุณุงู ุฅุดุนุงุฑ ูุญูู ููุฑู
4. Supabase ุชุจุซ ุงูุญุฏุซ ูุฌููุน ุงููุณุชุฎุฏููู ุงููุชุตููู
5. ูู ูุณุชุฎุฏู ูุณุชูุจู ุงูุฅุดุนุงุฑ ููุฑู ุงูุทูุจ ูู ุงููุงุฆูุฉ
```

### ุดูู ุงูุฅุดุนุงุฑ:
```
ุนููุงู: ๐ฉธ ุทูุจ ุชุจุฑุน ุฏู ุฌุฏูุฏ!
ุงููุต: [ุงุณู ุงููุชุจุฑุน] ูุญุชุงุฌ ุฅูู ูุตููุฉ [A+] ูู [ุจุบุฏุงุฏ - ุงููุงุธููุฉ]
```

---

## ๐ง ุงูุฅุนุฏุงุฏุงุช ุงููุทุจูุฉ

### iOS:
- โ ุฏุนู ุงูุฅุดุนุงุฑุงุช ูู ุงูุฎูููุฉ
- โ `UIBackgroundModes: remote-notification`
- โ ุฃููููุฉ ุนุงููุฉ ููุฅุดุนุงุฑุงุช ุงูุญุฑุฌุฉ
- โ ุฏุนู ุงูุตูุช ูุงูุงูุชุฒุงุฒ
- โ ุฃููููุฉ ูุฎุตุตุฉ ููุฅุดุนุงุฑุงุช
- โ ููู ูุฎุตุต (#DC2626)

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ูุงุฎุชุจุงุฑ ุงููุธุงู:
1. ุงูุชุญ ุงูุชุทุจูู ุนูู ุฌูุงุฒูู (ุฃู ุฌูุงุฒ + ูุญุงูู)
2. ูู ุงูุฌูุงุฒ ุงูุฃูู: ุงุฐูุจ ุฅูู "ุทูุจ ุชุจุฑุน ุฏู"
3. ุงููุฃ ุงููููุฐุฌ ูุฃุฑุณู ุทูุจ
4. ุนูู ุงูุฌูุงุฒ ุงูุซุงูู: ุณุชุฑู:
   - โ ุฅุดุนุงุฑ ูู ุดุฑูุท ุงูุฅุดุนุงุฑุงุช
   - โ ุงูุทูุจ ุงูุฌุฏูุฏ ูุธูุฑ ูู ุงููุงุฆูุฉ ุชููุงุฆูุงู

---

## ๐ฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ูู ุตูุญุฉ "ุทูุจุงุช ุงูุชุจุฑุน":
- ูุงุฆูุฉ ูุจุงุดุฑุฉ ุจุฌููุน ุงูุทูุจุงุช
- ุชุญุฏูุซ ุชููุงุฆู real-time
- ุฅููุงููุฉ ุงูุงุชุตุงู ุงููุจุงุดุฑ ุจุงููุชุจุฑุน
- ุฒุฑ ุญุฐู ููุทูุจุงุช ุงูุฎุงุตุฉ ุจุงููุณุชุฎุฏู

---

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู (ุงุฎุชูุงุฑู)

ูููู ุฅุถุงูุฉ:
- [ ] ููุชุฑุฉ ุงูุฅุดุนุงุฑุงุช ุญุณุจ ูุตููุฉ ุงูุฏู ุงูููุถูุฉ
- [ ] ููุชุฑุฉ ุญุณุจ ุงููููุน ุงูุฌุบุฑุงูู
- [ ] ุฅุดุนุงุฑุงุช push ุนู ุจูุนุฏ (Firebase/FCM)
- [ ] ุฅุนุฏุงุฏุงุช ุชุฎุตูุต ุงูุฅุดุนุงุฑุงุช ูููุณุชุฎุฏู
- [ ] ุฅุญุตุงุฆูุงุช ุงูุฅุดุนุงุฑุงุช

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **ุงูุตูุงุญูุงุช**: ูุฌุจ ุนูู ุงููุณุชุฎุฏู ููุญ ุตูุงุญูุฉ ุงูุฅุดุนุงุฑุงุช
2. **Supabase Realtime**: ุชุฃูุฏ ูู ุชูุนูู Realtime ูู ุฌุฏูู `blood_donation_requests`
3. **Expo Go**: ุงููุธุงู ูุณุชุฎุฏู Local Notifications ููุท ูู Expo Go (ุจุฏูู Push Token)
4. **Development Build**: ููุญุตูู ุนูู Push Notifications ุงููุงููุฉ:
   ```bash
   npx expo prebuild --clean --platform ios
   npx expo run:ios
   # ุฃู
   eas build --platform ios --profile development
   ```
5. **ุงูุจูุงุก ููุฅูุชุงุฌ**:
   ```bash
   eas build --platform ios --profile production
   ```
6. **Apple Push Notification Service (APNs)**: ููุฅุดุนุงุฑุงุช ุนู ุจูุนุฏุ ุชุญุชุงุฌ ุฅูู:
   - ุดูุงุฏุฉ APNs ูู Apple Developer
   - ุชูููู Push Notification Capability ูู Xcode

---

## ๐ง ุญู ูุดููุฉ Expo Go Warning

ุฅุฐุง ุธูุฑุช ุฑุณุงูุฉ ุชุญุฐูุฑ ุญูู Push Notifications ูู Expo Goุ ูุฐุง ุทุจูุนู!
- โ **Local Notifications** ุชุนูู ุจุดูู ูุงูู
- โ๏ธ **Push Notifications** ุชุญุชุงุฌ Development/Production Build
- ๐ฑ ููุงุฎุชุจุงุฑ ูู Expo Go: ุงุณุชุฎุฏู Local Notifications ููุท

---

## ๐ ุงูุฏุนู ุงูููู

ูููุฒูุฏ ูู ุงููุณุงุนุฏุฉ ุฃู ุชุฎุตูุต ุงููุธุงูุ ุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ.

---

**ุชู ุงูุชุทุจูู ุจูุฌุงุญ โ**
ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ููุนูู ุจููุงุกุฉ ุนุงููุฉ! ๐
